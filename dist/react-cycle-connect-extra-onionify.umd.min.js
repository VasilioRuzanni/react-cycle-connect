!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-cycle-connect"),require("react"),require("xstream")):"function"==typeof define&&define.amd?define(["exports","react-cycle-connect","react","xstream"],t):t((e.reactCycleConnect=e.reactCycleConnect||{},e.reactCycleConnect.extra=e.reactCycleConnect.extra||{},e.reactCycleConnect.extra.onionify={}),e.reactCycleConnect,e.React,e.xstream)}(this,function(e,t,n,r){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var o=t.cycleConnect({isolate:function(e){var t;return(t={})[e.channelName||"state"]=e.lens||void 0,t["*"]=null,t},displayName:"StateIsolator"})(),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i="state";function u(e){return{"*":null}}var a={isolate:function(e){var t;return(t={})[e.channelName||i]=e.lens||void 0,t["*"]=null,t},render:function(e){var t=e.items,r=e.itemKeyFn,o=e.itemRender,a=e.itemComponent;if(!t)return null;if(!o&&!a)throw new Error('You need either "itemRender" or "itemComponent" attribute defined on a <Collection>');var f=o||function(e){var t=e.itemComponent,r=e.channelName,o=void 0===r?i:r,a=e.itemKeyFn,f=e.itemIsolate;return function(e,r,i){var l,s,m=a?function(e,t){return{get:function(n){if(void 0!==n)for(var r=0,o=n.length;r<o;++r)if(e(n[r],r)===t)return n[r]},set:function(n,r){return void 0===n?[r]:void 0===r?n.filter(function(n,r){return e(n,r)!==t}):n.map(function(n,o){return e(n,o)===t?r:n})}}}(a,r):i,p=f||u,y="function"==typeof p?p(e):p,d="object"==typeof y?c(c({},y),((l={})[o]=m,l)):((s={"*":y})[o]=m,s);return n.createElement(t,c({key:r},e,{isolate:d}))}}(e);return t.map(function(e,t){var n=r?r(e,t):t;return f(e,n,t)})},displayName:"Collection"},f=t.cycleConnect(function(e){return{props:r.fromObservable(e.props.pluck("channelName").map(function(t){return e[t||i].stream}).flatten()).map(function(e){return{items:e}})}},a)();e.StateIsolator=o,e.Collection=f,e.makeFilteredListLens=function(e,t,n){var r=function(t){return t[e]},o="function"==typeof n?n:function(e,t){return"object"==typeof e&&"object"==typeof t&&e[n]===t[n]};return{get:function(e){return r(e).filter(function(n){return t(n,e)})},set:function(n,c){var i,u=r(n),a=u.filter(function(e){return t(e,n)});return Object.assign({},n,((i={})[e]=u.map(function(e){return c.find(function(t){return o(t,e)})||e}).filter(function(e){return a.some(function(t){return o(t,e)})&&c.some(function(t){return o(t,e)})}),i))}}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=react-cycle-connect-extra-onionify.umd.min.js.map
